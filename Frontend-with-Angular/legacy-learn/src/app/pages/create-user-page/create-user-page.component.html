<main>
    <div class="container">
      <section id="one">
        <p class="logo">Lea<span id="logo1">rn</span> 2.0</p>
        <p id="title">Create Your Free Legacy Learn Account and unlock a world of learning opportunities, empowering your academic journey! Join a supportive community of learners and educators! Signing up is quick and easy - get started now!</p><br>
        <form class="col-6" [formGroup]="signUpForm" (submit)="onSubmit()"><br />
          <label>First name:</label><br />
          <input type="text" id="firstname" name="firstName" formControlName="firstname" required /><br />
          <div class="ngIf" *ngIf="signUpForm.get('firstname')!.hasError('required') && signUpForm.get('firstname')!.touched">
            First name is required.
          </div>
          
          <label>Last name:</label><br />
          <input type="text" id="lastname" name="lastName" formControlName="lastname" required /><br />
          <div class="ngIf" *ngIf="signUpForm.get('lastname')!.hasError('required') && signUpForm.get('lastname')!.touched">
            Last name is required.
          </div>
          
          <label>Username:</label><br />
          <input type="text" id="username" name="userName" required formControlName="username"/><br />
          <div class="ngIf" *ngIf="signUpForm.get('username')!.hasError('required') && signUpForm.get('username')!.touched">
            Username is required.
          </div>
  
          <label>Password:</label><br />
          <div class="password-container">
            <input [type]="showPassword ? 'password' : 'text'" id="pwd" formControlName="password" required>
            <span class="eyeicon" (click)="togglePasswordVisibility('password')">
                <i [ngClass]="switchIcon1 ? 'fa-solid fa-eye-slash' : 'fa-solid fa-eye'"></i>
            </span>
          </div>
          <div class="ngIf" *ngIf="signUpForm.get('password')!.hasError('required') && signUpForm.get('password')!.touched">
            Password is required.
          </div>
  
          <label>Confirm password:</label><br />
          <div class="password-container">
            <input [type]= "showConfirmPassword ? 'password':'text'" id="confirmPwd" formControlName="confirmPassword" required>
            <span class="eyeicon" (click)="toggleConfirmPasswordVisibility('confirmPassword')">
            <i [ngClass]="switchIcon2 ? 'fa-solid fa-eye-slash' : 'fa-solid fa-eye'"></i>
          </span>
          </div>
          <div class="ngIf" *ngIf="signUpForm.get('confirmPassword')!.hasError('required') && signUpForm.get('confirmPassword')!.touched">
            Password is required.
          </div>
          <div class="ngIf" *ngIf="signUpForm.hasError('mismatch') && signUpForm.get('confirmPassword')!.touched">
            Passwords do not match.
          </div>        
  
          <label >Email:</label><br />
          <input
            type="text"
            id="email"
            name="email"
            formControlName="email" required
          /><br />
          <div class="ngIf" *ngIf="signUpForm.get('email')!.hasError('required') && signUpForm.get('email')!.touched">
            Valid email address is required.
          </div>
          <!-- <div class="ngIf" *ngIf="signUpForm.get('email')?.hasError('email') && signUpForm.get('email')?.touched">
            Invalid email address.
          </div> -->
  
          <button id="create">{{ isLoading ? "PLEASE WAIT..." : "CREATE" }}</button>
          <button id="cancel" [routerLink]="['/login']"
          routerLinkActive="active active-style"
          [routerLinkActiveOptions]="{ exact: true }">CANCEL</button><br>
          <div class="ngIfError" *ngIf="errorMessage">
            {{errorMessage}}
          </div>
          <br />
        </form>
      </section>
  
      <section id="two">
        <img
          id="image"
          src="assets/images/signUp1.jpg"
          alt=""
        />
      </section>
    </div>
</main>

<footer>
  <app-footer></app-footer>
</footer>